<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<link rel="import" href="../../bower_components/polymer/polymer.html">

<link rel="import" href="../../bower_components/app-layout/app-layout.html">
<link rel="import" href="../../bower_components/firebase-element/firebase-collection.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../../bower_components/iron-selector/iron-selector.html">
<link rel="import" href="../../bower_components/paper-drawer-panel/paper-drawer-panel.html">
<link rel="import" href="../../bower_components/paper-header-panel/paper-header-panel.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../../bower_components/paper-ripple/paper-ripple.html">
<link rel="import" href="../../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../../bower_components/paper-tooltip/paper-tooltip.html">
<link rel="import" href="my-app-config.html">
<link rel="import" href="my-app-form.html">
<link rel="import" href="my-app-item.html">
<link rel="import" href="my-data-auth.html">
<link rel="import" href="my-data-settings.html">
<link rel="import" href="my-view-header.html">
<link rel="import" href="my-view-menu.html">
<link rel="import" href="my-view-pages.html">

<link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html">

<link rel="import" href="../styles/app-theme.html">
<link rel="import" href="../styles/app.css">

<dom-module id="my-view-main">	
		
	<template>
		
		<style is="custom-style" include="app-theme"></style>
		<!--
		<iron-ajax id="ajax" verbose auto method="POST" xurl="" xbody=""></iron-ajax>
		<iron-ajax id="manifest" xauto verbose
							 url="../../manifest.json"
							 handle-as="json"
							 last-response="{{manifest}}"
							 on-response="_handleResponseManifest"
							 debounce-duration="300">
		</iron-ajax>
		<iron-ajax id="config" xauto verbose
							 url="../../config.json"
							 handle-as="json"
							 last-response="{{config}}"
							 on-response="_handleResponseConfig"
							 debounce-duration="300">
		</iron-ajax>
		<firebase-collection id="fbc"
												 xorder-by-child="timestamp"
												 xorder-by-child="address"
												 xorder-by-child="autoEst"
												 xorder-by-child="{{sortVal}}"
												 xlimit-to-first="3"
												 xlocation="https://dinosaur-facts.firebaseio.com/dinosaurs"
												 location="[[app.fb.logs]]"
												 xdata="{{items}}"
												 data="{{logItems}}"
												 xon-firebase-value="_firebaseLoaded">
		</firebase-collection>
		<app-toolbar>
			<paper-icon-button icon="menu"></paper-icon-button>
			<div title>App name</div>
			<paper-icon-button icon="search"></paper-icon-button>
		</app-toolbar>
		-->
		<paper-drawer-panel id="drawerPanel" class="flex">
			<paper-header-panel drawer>
				<paper-toolbar id="drawerToolbar" class="paper-font-title">
					<img id="icon" src="../../images/touch/icon-128.png" height="50" title="[[app.meta.desc]]">
					<!--<paper-tooltip for="icon"><span>[[app.desc]]</span></paper-tooltip>-->
				</paper-toolbar>
				<div>
					<!--
					<paper-button on-tap="_printState">Print State</paper-button>
					-->
					<my-view-header app=[[app]]></my-view-header>
					<my-view-menu route="{{route}}" on-select-item="_onMenuSelect"></my-view-menu><!--Var-->
				</div>
			</paper-header-panel>
			<paper-header-panel main class="flex" mode="standard" xmode="seamed standard waterfall waterfall-tall scroll cover">
				<paper-toolbar>
					<paper-icon-button icon="menu" paper-drawer-toggle></paper-icon-button>
					<div class="xmiddle paper-font-display1 app-name">[[app.meta.shortName]]</div>
					<span class="flex"></span>
					<my-data-auth id="auth"
												u="{{app.auth}}"
												app="{{app}}"
												on-x-login="_handleLogin"
												on-x-logout="_handleLogout">
					</my-data-auth>
				</paper-toolbar>
				<div class="content fit">
					<my-view-pages id="pages" app="{{app}}" route="{{route}}"></my-view-pages><!--Var-->
				</div>
			</paper-header-panel>
		</paper-drawer-panel>
	
	</template>

	<script>
		(function(){
      //'use strict';
			Polymer({
				is: 'my-view-main',
				_onMenuSelect: function() {
					// Do stuff
				}
			});
		})();
	</script>
	
</dom-module>
